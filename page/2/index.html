<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="永昊的私人博客，只有我最爱的人才能进来。">
<meta property="og:type" content="website">
<meta property="og:title" content="梦想不大，有猫有她有个家。">
<meta property="og:url" content="http://xiaohaoz1.github.io/page/2/index.html">
<meta property="og:site_name" content="梦想不大，有猫有她有个家。">
<meta property="og:description" content="永昊的私人博客，只有我最爱的人才能进来。">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="梦想不大，有猫有她有个家。">
<meta name="twitter:description" content="永昊的私人博客，只有我最爱的人才能进来。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://xiaohaoz1.github.io/page/2/">





  <title>梦想不大，有猫有她有个家。</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">梦想不大，有猫有她有个家。</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">韩圆圆我爱你</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/05/10/工作日志20190510/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/10/工作日志20190510/" itemprop="url">工作日志20190510</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-10T12:14:28+08:00">
                2019-05-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天在点击项目回款情况统计时，控制台报错：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">com.raqsoft.common.RQException: </span><br><span class="line"><span class="function">Cannot create <span class="title">PoolableConnectionFactory</span> <span class="params">(IO 错误: The Network Adapter could not establish the connection)</span></span></span><br></pre></td></tr></table></figure>
<p>这是有关与润乾报表的错误，网上说数据库连接问题？心想之前不是已经连接了么，怎么这时候出了问题。想到现在config文件里的配置是本地的数据库，但是在Tomcat里的配置还是测试库的数据，发现问题，修改url、用户名、密码。URL最后是数据库的名字不是SID，这里更config有区别。（报错后才知道）</p>
<p>修改后正常运行。</p>
<p>2、Oracle中的||的意思。就是字符串相加啊。。。</p>
<p>3、润乾报表想显示数据库格式，只需要简单的将由上角格式置空即可。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/05/10/Ajax的异步问题和Activiti的学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/10/Ajax的异步问题和Activiti的学习/" itemprop="url">Ajax的异步问题和Activiti的学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-10T08:44:35+08:00">
                2019-05-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>​        工作流（Workflow），就是”业务过程的部分或整体在计算机应用环境下的自动化”，它主要解决的是”使多个参与者之间按照某种预定义的规则传递文档、信息或任务的过程自动进行，从而实现某个预期的业务目标，或者促使此目标的实现。“</p>
<p>​        Deployment流程部署对象，部署一个流程时创建。</p>
<p>​        ProcessDefinitions：流程定义，部署成功后自动创建。</p>
<p>​        ProcessInstances：流程实例，启动流程时创建。</p>
<p>​        Task：任务，在Activiti中的Task仅指有角色参与的任务，即定义中的UserTask。</p>
<p>​        Execution：执行计划，流程实例和流程执行中的所有节点都是Execution。</p>
<h4 id="2-2-2服务接口"><a href="#2-2-2服务接口" class="headerlink" title="2.2.2服务接口"></a>2.2.2服务接口</h4><ol>
<li>ProcessEngien：流程引擎的抽象，通过它我们可以获得我们需要的一切服务。</li>
<li>RepositoryService：Activiti中的每一个不同版本的业务流程的定义都需要使用一些定义文件，部署文件和支持数据（例如BPMN2.0XML文件，表单定义文件，流程定义图像文件等），这些文件都存储在Activiti内建的Repository中。RepositoryService提供了对repository的存取服务。</li>
<li>RuntimeServiceL：在Activiti中，每当一个流程定义被启动一次之后，都会生成一个流程对象实例。RuntiomeService提供了启动流程、查询流程实例、设置获取流程实例变量等功能。此外，他还提供了对流程部署，流程定义和流程实例的存取服务。</li>
<li>TaskService：在Activiti中业务流程定义的每一个执行节点被称为一个Task，对流程中的数据存取，状态变更等操作均需要在Task中完成。TaskService提供了对用户Task和From相关的操作。它提供了运行时任务查询、领取、完成、删除以及变量设置等功能。</li>
<li>IdentityService：Activiti中内置了用户以及组管理的功能，必须使用这些用户和组的信息才能获取到相应的Task。Identity Service提供了对Activiti系统中的用户和组的管理功能。</li>
<li>ManagementService：ManagementService提供了对Activiti流程引擎的管理和维护功能，这些功能不再工作流驱动的应用程序中使用，主要用于Activiti系统的日常维护。</li>
<li>HistoryService：HistoryService用于获取正在运行或已经完成的流程实例的信息，与RuntimeService中获取的流程信息不同，历史信息包含已经持久化存储的永久信息，并已经被针对查询优化。</li>
<li>FormService：Activiti中的流程和状态Task均可以关联业务相关的数据。通过使用FormService可以存取启动和完成任务所需的表单数据并且根据需要来渲染表单。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/05/08/190508随笔/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/08/190508随笔/" itemprop="url">190508随笔</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-08T22:05:44+08:00">
                2019-05-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>天气不算凉 可秋天还没走</p>
<p>姑娘们都提前的过上了夏天</p>
<p>长短粗细的腿 浓妆艳抹的脸</p>
<p>可怜的爷们 就看红了眼</p>
<p>——《夏天》赵雷</p>
</blockquote>
<p>​        夏天要来了。</p>
<p>​        我讨厌夏天，蚊虫叮咬，天气炎热。</p>
<p>​        我又没有腹肌，长得也不高，这种季节不适合我。</p>
<p>​        但是对身材姣好、长相姣好的人挺适合吧。</p>
<p>​        他们、她们可以尽情的”炫耀”自己了。</p>
<p>​        不过我跟他们不是一路人。当个普通人也蛮好的。简单的追求，何必羡慕来羡慕去呢。</p>
<p>​        第一次出差，好好表现，稳住心态，多多动脑。争取这次能有大的收获。</p>
<p>​        早些睡吧，安了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/05/05/2019-05-05工作笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/05/2019-05-05工作笔记/" itemprop="url">2019-05-05工作笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-05T08:28:33+08:00">
                2019-05-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1、从数据库取count、sum等函数的值时，值的数据类型是java.math.BigDecimal。如果这个值为空，那取到的Oobject就是null，对一个空Object执行String.valueOf()方法时，会返回”null”字符串。用StringUtils.isEmpty时无法判断它为空的。</p>
<p>另外，转换方法是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object object = map.get(<span class="string">"id"</span>);</span><br><span class="line">Integer.parseInt(String.valueOf(object ));</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/05/03/劳动节随笔/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/03/劳动节随笔/" itemprop="url">劳动节随笔</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-03T17:55:18+08:00">
                2019-05-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>​    许久没有写随笔了。</p>
<p>​    从四月十五号公司入职以来，跟身边的人联系也少了。前两周都把精力放在了如何适应公司的工作，快速掌握公司的开发工具EOS。现在五一放假，今天的鸟背也打了，终于”有时间”写写最近的生活了。</p>
<p>​    一个人，要学会享受孤独。</p>
<p>​    </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/04/08/铜雀台赋/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/08/铜雀台赋/" itemprop="url">铜雀台赋</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-08T23:23:16+08:00">
                2019-04-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>铜雀台赋</strong></p>
<p>​    魏 曹植</p>
<p>从明后而嬉游兮，登层台以娱情。</p>
<p>见太府之广开兮，观圣德之所营。</p>
<p>建高门之嵯峨兮，浮双阙乎太清。</p>
<p>立中天之华观兮，连飞阁乎西城。</p>
<p>临漳水之长流兮，望园果之滋荣。</p>
<p>立双台于左右兮，有玉龙与金凤。</p>
<p><strong>揽二乔于东南兮，乐朝夕之与共。</strong></p>
<p>俯皇都之宏丽兮，瞰云霞之浮动。</p>
<p>欣群才之来萃兮，协飞熊之吉梦。</p>
<p>临春风之和穆兮，听百鸟之悲鸣。</p>
<p>天云亘其既立兮，家愿得乎双逞。</p>
<p>扬仁化于宇宙兮，尽肃恭于上京。</p>
<p>惟桓文之为盛兮，岂足方乎圣明！</p>
<p>休矣美矣！惠泽远扬。</p>
<p>翼佐我皇家兮，宁彼四方。</p>
<p>同天地之规量兮，齐日月之晖光。</p>
<p>永尊贵而无极兮，等君寿于东皇。</p>
<p>御龙旗以遨游兮，回鸾驾而周章。</p>
<p>恩化及乎四海兮，嘉物阜而民康。</p>
<p>原斯台之永固兮，乐终古而未央！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/04/03/Java设计模式之桥接模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/03/Java设计模式之桥接模式/" itemprop="url">Java设计模式之桥接模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-03T22:38:02+08:00">
                2019-04-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>​    如果系统中的某个类存在两个独立变化的维度，通过桥接模式可以将这两个维度分离出来，使两者可以独立扩展。桥接模式用一种巧妙的方式处理多层继承存在的问题，用<strong>抽象关联</strong>来取代传统的多层继承，<strong>将类之间的静态继承关系转换为动态的对象组合关系</strong>。</p>
<p>​    在文中，作者举了这样的例子。说有大、中、小三个型号的画笔，能够绘制12种不同的颜色。如果画笔的类型是蜡笔，那么一个蜡笔对象只能有一种型号和颜色，需要有36个对象才能实现效果。如果画笔的类型是毛笔，只要提供三种型号的对象，还有十二种颜色即可。这样总共也才3+12=15个对象。这时如果再多一种型号呢？蜡笔要增加十二个对象，毛笔只要增加1个对象。如果多一种颜色，蜡笔也要三个，而毛笔也只是一个。</p>
<p>​    通过分析了解，蜡笔中，型号和颜色两个不同的变化维度偶合在一起。无论是对颜色的扩展还是型号的扩展都势必会<strong>影响到另一个维度</strong>。但在毛笔中，颜色和型号实现了<strong>分离</strong>。桥接模式就是用来处理蜡笔这样的情况变成毛笔的。</p>
<p>​    在桥接模式中，将两个独立变化的维度设计为两个独立的继承等级结构，而不是将两者耦合在一起形成多层继承结构。桥接模式在抽象层建立起一个抽象关联，该关联关系累死一条连接两个独立继承结构的桥。故名桥接模式。等看到结构图就明白了。所以说书上的每句话都要细细品读。</p>
<p>​    在使用桥接模式时首先应该<strong>识别出一个类所具有的两个独立变化的维度，将它们设计为两个独立的继承等级结构，为两个维度提供抽象层并建立抽象耦合</strong>。通常情况下，将具有两个独立变化维度的类的一些普通业务方法和与之<strong>关系最密切</strong>的维度设计为<strong>“抽象类”层级结构</strong>，而将另一个维度设计为”实现类”层次结构。某种意义上就是解耦了某个功能的抽象定义和具体实现，让其变成了两个相互独立的模块。</p>
<p>从网上搜索了下，对于桥接模式使用的典型是JDBC的驱动程序。舒服了，这下学起来舒服了！</p>
<p>JDBC是以统一方式访问数据库的API，它提供了<strong>独立于平台</strong>的数据库访问。意思是，我们不必为了访问Oracle数据库专门写一个程序，为了访问Sybase数据库又专门写一个程序。</p>
<p>在实际操作的过程中，当需要连接某个数据库时，需要先添加数据库公司发布的jar包，如jdbc-mysql.jar，然后在使用时先加载Driver。</p>
<blockquote>
<p>Class.forName(“com.mysql.jdbc.Deiver”);</p>
</blockquote>
<p>然后通过DriverManager去获取连接：</p>
<blockquote>
<p>connection = (Connection) DriverManager.getConnection(url, username,password);</p>
</blockquote>
<p>这里的connection的定义依旧是java.sql的接口。我们在代码中依旧使用的是接口，只不过通过了最初的加载Driver让添加的jar包中的类成为了真正的实现。</p>
<p>这里说一下为什么使用Class.forName方法，因为Class.forName可以直接加载类中的静态代码块，而ClassLoader只能将类填进JVM方法区，在Class.newInstance的时候才会加载类中的代码块，而我们需要的就是执行Driver类中的静态代码块：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    DriverManager.registerDriver(<span class="keyword">new</span> Driver());</span><br><span class="line">  &#125; <span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Can't register driver!"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类在被Class.forName的时候就加载了这一块代码块，将Driver类本身的对象注册进DriverManager。</p>
<p>未完待续。。。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/03/27/深入理解虚拟机之Java对象的创建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/27/深入理解虚拟机之Java对象的创建/" itemprop="url">深入Java理解虚拟机之Java对象的创建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-27T22:57:42+08:00">
                2019-03-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>​    虚拟机遇到一条new指令时，首先将去检查这个指令的参数是否能在常量池定位到一个类的符号引用，并且检查这个符号引用代表的类是否已经被加载、解析和初始化。</p>
<p>​    在类加载检查通过后，虚拟机将为新生对象分配内存。对象所需内存的大小在类加载完成后便可完全确定。</p>
<p>​    内存分配完成后，虚拟机需要将分配到内存的空间都初始化为零值（不包括对象头）。这一步操作保证了对象的实例字段在Java代码中客户以不赋初值就直接使用。</p>
<p>​    接下来，虚拟机要对对象进行必要的设置，例如这个对象是哪个类的实例、如何才能找到类的元数据信息、对象的哈希码、对象的GC分代年龄等信息。这些信息存放在对象的对象头之中。</p>
<p>​    上面工作完成后，从虚拟机视角来看，一个新的对象已经产生了。但从Java程序的视角来看，对象创建才刚刚开始，<init>方法还没有执行，所有的字段都还是零。所以，一般来说(由字节码中是否随invokespecial指令所决定)，执行new指令之后会接着执行<init>方法，把对象按照程序员的意愿进行初始化，这样一个真正可用的对象才算完全产生出来。</init></init></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/03/26/Java设计模式之适配器模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/26/Java设计模式之适配器模式/" itemprop="url">Java设计模式之适配器模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-26T21:02:53+08:00">
                2019-03-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>将一个类的接口转换成客户希望的另一个接口。适配器模式让那些接口不兼容的类可以工作。</p>
<p>Adapter Pattern：Convert the interface of a class into another interface clients except. Adapter lets</p>
<p> classes work together that couldn’t otherwise because of incompatible interfaces.</p>
</blockquote>
<p>适配器模式包含以下3个角色</p>
<ol>
<li><p>Targe(目标抽象类)</p>
<p>目标抽象类定义客户所需的接口，可以是一个抽象类或接口，也可以是具体类。在类适配器中，由于Java语言不支持多重继承，它只能是接口。</p>
</li>
<li><p>Adapter(适配器类)</p>
<p>它可以调用另一个接口，作为一个转换器，对Adaptee和Target进行适配。适配器Adapter是适配器模式的核心，在类适配器中，它通过实现Target接口并继承Adaptee类来使二者产生联系，在对象适配器中，他通过继承Target并关联一个Adaptee对象使二者产生联系。</p>
</li>
<li><p>Adaptee(适配者类)</p>
<p>适配者即被适配的角色，它定义了一个已经存在的接口，这个接口需要适配，适配者类一般是一个具体类，包含了客户希望使用的业务方法，在某些情况下没有适配者类的源代码。</p>
</li>
</ol>
<p>适配器模式有两种实现，分别是对象适配器和类适配器。</p>
<p>类适配器，就是站在类类型的角度上看适配器模式。适配器模式的最终目标是能够将一个类的接口转换成用户希望的接口。通俗的来说，用户想要调用的接口是A，这时候一个B实现了用户想要的A的内容，但我们也不能把B给客户。而是借用B的实现来实现接口A。因为客户想要的只是A。我们在A和B之间新建一个类型Adapter，让Adapter类型继承B，这样Adapter就能调用B的实现方法。然后Adapter实现接口A，在实现A的方法是，不是想用B的实现方法么，那就直接用B的实现方法实现A的方法，达成用户调用Adapter的A方法，又能执行B的方法的适配效果。</p>
<p>对象适配器就是站在类对象的角度来实现的。这次B不是一个类型了，而是具体的对象的具体方法。而A也不一定是接口，也可能是抽象类。所以适配器的实现方式就从实现A变成了继承A，然后将对象B作为自己的一个属性成员。在实现父类A的方法时采用属性成员B的方法完成适配。怎么样，很简单了吧。最终实现我们的目标，A的实现是B的实现就可以了。这里有一个地方要注意，因为是属性成员的关系，B可以有多个多种。</p>
<h4 id="缺省适配器"><a href="#缺省适配器" class="headerlink" title="缺省适配器"></a>缺省适配器</h4><p>缺省适配器是适配器模式的一个优化方法吧，大意是这样的：</p>
<blockquote>
<p>缺省适配器(Default Adapter Pattern)：当不需要实现一个接口提供的所有方法时，可先设计一个抽象类实现该接口，并为借口中的每一个方法提供一个默认实现(空方法)，那么该抽象类的子类可以选择性地覆盖父类的某些方法来实现需求，它适用于不想使用一个接口中的所有方法的情况。又称为<strong>单接口适配器模式</strong>。</p>
</blockquote>
<p>书中给出的解释已经很清楚了，确实如果我们的被适配类只用来实现客户希望调用接口的一个或几个而不是全部的方法的话，没有必要实现接口所有方法。如果你反驳说，直接用实现接口，方法体为空不就行了吗，还至于在其中添加一个抽象类吗？这样说是可以，但是按照书中的做法，代码结构更加清晰，而且当再出现新的适配器的时候，好处就更加明显了。</p>
<p>对象适配器的优点：</p>
<p>(1)：一个对象适配器可以把不同的适配者适配到同一个目标。</p>
<p>(2)：可以适配一个适配者的子类，由于适配器和适配者之间是关联关系，根据里式代换原则，适配者的子类也可通过该适配器进行适配。</p>
<p>类适配器模式缺点：</p>
<p>主要是因为Java语法设计的缘故</p>
<p>1、一次最多只能适配一个适配者类 因为Java只允许单继承嘛</p>
<p>2、适配者类不能为最终类，也是因为Java语法中最终类不能被继承</p>
<p>3、类适配模式中的目标抽象类只能为接口，不能为类，其使用有一定的局限性。</p>
<p>对象适配器模式的缺点：</p>
<p>与类适配器模式相比，在该模式下要在适配器中置换适配者类的某些方法比较麻烦。如果一定要置换掉适配者类的一个或多个方法，可以先做一个适配者类的子类，将适配者类的方法置换掉，然后再把适配者类的子类当成真正的适配者进行适配，实现过程较为复杂。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://xiaohaoz1.github.io/2019/03/26/Java设计模式之单例模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangyh">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="梦想不大，有猫有她有个家。">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/26/Java设计模式之单例模式/" itemprop="url">Java设计模式之单例模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-26T15:57:06+08:00">
                2019-03-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>单例模式：确保一个类只有一个实例，并提供一个全局访问点来访问这个唯一实例。</p>
<p>Single Pattern：Ensure a class has only one instance，and provide a global point of access to it.</p>
</blockquote>
<p>​    单例类拥有一个私有构造函数，确保用户无法通过new关键字直接访问它。</p>
<p>​    单例类还包含一个静态私有成员变量与静态公有的工厂方法。该工厂方法负责检验实例的存在性并实例化自己，然后存储在静态成员变量中，确保只有一个实例被创建。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> SinglePattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance == <span class="keyword">null</span>)</span><br><span class="line">            instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​    使用静态内部类实现单例模式</p>
<p>​    在Java语言中可以通过Initialization on Demand Holder(IoDH)技术来实现单例模式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//静态内部类</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">HolderClass</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> HolderClass.instance;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​    由于静态单例对象没有作为Singleton的成员变量直接实例化，因此类加载时不会实例化Singleton，第一次调用getInstance时将加载内部类HolderClass，在该内部类中定义了一个static类型的变量instance，有Java虚拟机来保证其线程安全性，确保该成员变量只能初始化一次。getInstance方法没有任何线程锁定，性能也不会造成影响。</p>
<h5 id="单例模式适用环境"><a href="#单例模式适用环境" class="headerlink" title="单例模式适用环境"></a>单例模式适用环境</h5><p>(1)系统只需要一个实例对象。</p>
<p>(2)客户调用类的单个实例只允许使用一个公共访问点。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="yangyh">
          <p class="site-author-name" itemprop="name">yangyh</p>
           
              <p class="site-description motion-element" itemprop="description">永昊的私人博客，只有我最爱的人才能进来。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">39</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yangyh</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
